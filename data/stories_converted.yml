version: "3.1"
stories:
- story: greeting
  steps:
  - intent: welcome_greet
  - action: utter_welcome_greet
  - action: client_form
  - active_loop: client_form
  - slot_was_set:
    - client_name
    - phone_number
    - address_street
    - address_number
    - address_city
  - active_loop: null
  - action: action_save_client
  - checkpoint: check_user

- story: new client
  steps:
  - checkpoint: check_user
  - slot_was_set:
    - new_client: true
  - checkpoint: new_client

- story: suggest pizza to old client who accepts
  steps:
  - checkpoint: check_user
  - slot_was_set:
    - new_client: false
  - intent: init_request_without_entity
  - action: action_suggest_pizza
  - intent: response_positive
  - action: action_response_positive
  - checkpoint: suggest_pizza_positive

- story: suggest pizza to old client who does not accept
  steps:
  - checkpoint: check_user
  - slot_was_set:
    - new_client: false
  - intent: init_request_without_entity
  - action: action_suggest_pizza
  - intent: response_negative
  - action: action_response_negative
  - checkpoint: suggest_pizza_negative

- story: greet, suggest pizza to old client and order pizza
  steps:
  - checkpoint: suggest_pizza_positive
  - action: pizza_order_form 
  - active_loop: pizza_order_form
  - slot_was_set:
    - pizza_size
    - pizza_type
    - pizza_amount
  - active_loop: null
  - action: utter_submit_form_pizza         
  - action: utter_slots_values

- story: greet and ask pizza
  steps:
  - checkpoint: new_client
  - intent: init_request
  - action: action_menu
  - action: pizza_order_form
  - active_loop: pizza_order_form
  - slot_was_set:
    - pizza_size
    - pizza_type
    - pizza_amount
  - active_loop: null
  - action: utter_submit_form_pizza         
  - action: utter_slots_values
  - intent: response_positive
  - action: action_response_positive
  - intent: response_positive
  - action: action_response_positive
  - action: pizza_order_form
  - active_loop: pizza_order_form
  - slot_was_set:
    - pizza_size
    - pizza_type
    - pizza_amount
  - active_loop: null
  - action: utter_submit_form_pizza         
  - action: utter_slots_values

- story: greet and ask pizza 2
  steps:
  - checkpoint: new_client
  - intent: init_request
  - action: action_menu
  - action: pizza_order_form
  - active_loop: pizza_order_form
  - slot_was_set:
    - pizza_size
    - pizza_type
    - pizza_amount
  - active_loop: null
  - action: utter_submit_form_pizza         
  - action: utter_slots_values
  - intent: response_positive
  - action: action_response_positive
  - intent: response_positive
  - slot_was_set:
    - pizza_type
  - action: action_response_positive
  - action: pizza_order_form
  - active_loop: pizza_order_form
  - slot_was_set:
    - pizza_size
    - pizza_amount
  - active_loop: null
  - action: utter_submit_form_pizza         
  - action: utter_slots_values

- story: ask pizza and is not correct
  steps:
  - intent: init_request
  - action: action_menu
  - action: pizza_order_form
  - active_loop: pizza_order_form
  - slot_was_set:
    - pizza_size
    - pizza_type
    - pizza_amount
  - active_loop: null
  - action: utter_submit_form_pizza         
  - action: utter_slots_values
  - intent: response_negative
  - action: action_response_negative
  - intent: item_change
  - action: utter_slots_values
  - intent: response_positive
  - action: action_response_positive
  - intent: response_positive
  - action: action_response_positive
  - action: pizza_order_form
  - active_loop: pizza_order_form
  - slot_was_set:
    - pizza_size
    - pizza_type
    - pizza_amount
  - active_loop: null
  - action: utter_submit_form_pizza         
  - action: utter_slots_values

- story: ask pizza and is not correct 2
  steps:
  - intent: init_request
  - action: action_menu
  - action: pizza_order_form
  - active_loop: pizza_order_form
  - slot_was_set:
    - pizza_size
    - pizza_type
    - pizza_amount
  - active_loop: null
  - action: utter_submit_form_pizza         
  - action: utter_slots_values
  - intent: response_negative
  - action: action_response_negative
  - intent: item_change
  - action: utter_slots_values
  - intent: response_positive
  - action: action_response_positive
  - intent: response_negative
  - action: action_response_negative


- story: ask pizza and yes anything else
  steps:
  - intent: init_request
  - action: action_menu
  - action: pizza_order_form
  - active_loop: pizza_order_form
  - slot_was_set:
    - pizza_size
    - pizza_type
    - pizza_amount
  - active_loop: null
  - action: utter_submit_form_pizza         
  - action: utter_slots_values
  - intent: response_positive
  - action: action_response_positive
  - intent: response_positive
  - action: action_response_positive
  - action: pizza_order_form
  - active_loop: pizza_order_form
  - slot_was_set:
    - pizza_size
    - pizza_type
    - pizza_amount
  - active_loop: null
  - action: utter_submit_form_pizza         
  - action: utter_slots_values

- story: ask information pizza and yes anything else
  steps:
  - intent: init_pizza_question
  - action: utter_init_pizza_question
  - intent: init_request
  - action: action_menu
  - action: pizza_order_form
  - active_loop: pizza_order_form
  - slot_was_set:
    - pizza_size
    - pizza_type
    - pizza_amount
  - active_loop: null
  - action: utter_submit_form_pizza         
  - action: utter_slots_values
  - intent: response_positive
  - action: action_response_positive
  - intent: response_positive
  - action: action_response_positive
  - action: pizza_order_form
  - active_loop: pizza_order_form
  - slot_was_set:
    - pizza_size
    - pizza_type
    - pizza_amount
  - active_loop: null
  - action: utter_submit_form_pizza         
  - action: utter_slots_values
  - intent: response_positive
  - action: action_response_positive
  - intent: response_positive
  - action: action_response_positive
  - action: pizza_order_form
  - active_loop: pizza_order_form
  - slot_was_set:
    - pizza_size
    - pizza_type
    - pizza_amount
  - active_loop: null
  - action: utter_submit_form_pizza         
  - action: utter_slots_values


- story: ask information pizza and no anything else
  steps:
  - intent: init_pizza_question
  - action: utter_init_pizza_question
  - intent: init_request
  - action: action_menu
  - action: pizza_order_form
  - active_loop: pizza_order_form
  - slot_was_set:
    - pizza_size
    - pizza_type
    - pizza_amount
  - active_loop: null
  - action: utter_submit_form_pizza         
  - action: utter_slots_values
  - intent: response_positive
  - action: action_response_positive
  - intent: response_negative
  - action: action_response_negative

- story: order pizza and delete order
  steps:
  - intent: init_request
  - action: action_menu
  - action: pizza_order_form
  - active_loop: pizza_order_form
  - slot_was_set:
    - pizza_size
    - pizza_type
    - pizza_amount
  - active_loop: null
  - action: utter_submit_form_pizza         
  - action: utter_slots_values
  - intent: response_positive
  - action: action_response_positive
  - intent: cancel_order
  - action: utter_order_delete
  - intent: response_positive
  - action: action_response_positive

- story: order pizza and delete order 2
  steps:
  - intent: init_request
  - action: action_menu
  - action: pizza_order_form
  - active_loop: pizza_order_form
  - slot_was_set:
    - pizza_size
    - pizza_type
    - pizza_amount
  - active_loop: null
  - action: utter_submit_form_pizza         
  - action: utter_slots_values
  - intent: response_positive
  - action: action_response_positive
  - intent: cancel_order
  - action: utter_order_delete
  - intent: response_negative
  - action: action_response_negative


- story: ask information pizza and yes anything else and then no anything else
  steps:
  - intent: init_pizza_question
  - action: utter_init_pizza_question
  - intent: init_request
  - action: action_menu
  - action: pizza_order_form
  - active_loop: pizza_order_form
  - slot_was_set:
    - pizza_size
    - pizza_type
    - pizza_amount
  - active_loop: null
  - action: utter_submit_form_pizza         
  - action: utter_slots_values
  - intent: response_positive
  - action: action_response_positive
  - intent: response_positive
  - action: action_response_positive
  - action: pizza_order_form
  - active_loop: pizza_order_form
  - slot_was_set:
    - pizza_size
    - pizza_type
    - pizza_amount
  - active_loop: null
  - action: utter_submit_form_pizza         
  - action: utter_slots_values
  - intent: response_positive
  - action: action_response_positive
  - intent: response_negative
  - action: action_response_negative
  

- story: greet and ask information
  steps:
  - checkpoint: new_client
  - intent: init_pizza_question
  - action: utter_init_pizza_question

- story: ask information
  steps:
  - intent: init_pizza_question 
  - action: utter_init_pizza_question

- story: greet and ask price information
  steps:
  - checkpoint: new_client
  - intent: item_price
  - action: action_price

- story: ask price information
  steps:
  - intent: item_price
  - action: action_price

- story: ask pizza availability
  steps:
  - intent: pizza_availability
  - action: action_pizza_availability

- story: greet and ask pizza availability
  steps:
  - checkpoint: new_client
  - intent: pizza_availability
  - action: action_pizza_availability

- story: ask pizza without toppings
  steps:
  - intent: pizza_question_toppings
  - action: action_pizza_question_toppings

- story: greet and ask pizza without toppings
  steps:
  - checkpoint: new_client
  - intent: pizza_question_toppings
  - action: action_pizza_question_toppings

- story: greet, ask pizza without toppings and cancel order
  steps:
  - checkpoint: new_client
  - intent: pizza_question_toppings
  - action: action_pizza_question_toppings
  - intent: cancel_order
  - action: utter_order_delete
  - intent: response_positive
  - action: action_response_positive

- story: greet, ask pizza without toppings and ask price
  steps:
  - checkpoint: new_client
  - intent: pizza_question_toppings
  - action: action_pizza_question_toppings
  - intent: item_price
  - action: action_price
# - story: questions_on_pizza
#   steps:
#   - checkpoint: start_questions_on_pizza
#   - intent: init_pizza_question
#   - action: utter_init_pizza_question
#   - checkpoint: start_order
# - story: order pizza vague
#   steps:
#   - checkpoint: start_order
#   - intent: init_request
#   - action: utter_init_request
#   - intent: item_start_generic
#   - action: pizza_order_form
#   - active_loop: pizza_order_form
#   - checkpoint: confirm_order
# - story: order pizza vague
#   steps:
#   - checkpoint: start_order
#   - intent: init_request
#   - action: utter_init_request
#   - intent: item_start_generic
#   - action: pizza_order_form
#   - active_loop: pizza_order_form
#   - checkpoint: confirm_order_pre_question
# - story: order pizza precise
#   steps:
#   - checkpoint: start_order
#   - checkpoint: new_order
#   - intent: item_start_generic
#   - action: pizza_order_form
#   - active_loop: pizza_order_form
#   - checkpoint: confirm_order
# - story: order pizza precise
#   steps:
#   - checkpoint: start_order
#   - checkpoint: new_order
#   - intent: item_start_generic
#   - action: pizza_order_form
#   - active_loop: pizza_order_form
#   - checkpoint: confirm_order_pre_question
# - story: story_to_modify_order
#   steps:
#   - checkpoint: confirm_order
#   - intent: response_negative
#   - action: action_change_order
#   - action: utter_item_change
#   - checkpoint: confirm_order
# - story: story_to_modify_order_2
#   steps:
#   - checkpoint: confirm_order
#   - intent: item_change
#   - action: action_change_order
#   - action: utter_item_change
#   - checkpoint: confirm_order
# - story: story_to_modify_order_3
#   steps:
#   - checkpoint: confirm_order
#   - intent: response_negative
#   - action: utter_order_confirm_negative
#   - intent: item_change
#   - action: action_change_order
#   - action: utter_item_change
#   - checkpoint: confirm_order
# - story: story_to_proceed_furthur
#   steps:
#   - checkpoint: confirm_order
#   - intent: response_positive
#   - action: action_pizza_order_add
#   - action: utter_extra_order
#   - checkpoint: confirmed_order_proceed
# - story: story_to_add_new_order
#   steps:
#   - checkpoint: confirmed_order_proceed
#   - intent: response_positive
#   - action: action_reset_pizza_form
#   - action: utter_order_add
#   - checkpoint: new_order
# - story: story_to_proceed_with_confirm_order
#   steps:
#   - checkpoint: confirmed_order_proceed
#   - intent: response_negative
#   - action: utter_name_phone
#   - intent: response_name_phone
#   - action: action_order_number
#   - action: utter_total_order_final
#   - checkpoint: order_proceed
# - story: order take home
#   steps:
#   - checkpoint: order_proceed
#   - intent: order_take_home
#   - action: utter_order_complete
# - story: order delivery
#   steps:
#   - checkpoint: order_proceed
#   - intent: order_delivery
#   - action: utter_delivery_address
#   - intent: order_delivery_address
#   - action: utter_order_complete
# - story: story_modify_prerequest
#   steps:
#   - checkpoint: confirm_order_pre_question
#   - intent: item_change_request_without_entity
#   - action: utter_item_type
#   - checkpoint: confirm_order